package FileTransmi;

import java.io.*;
import java.net.*;
import java.util.*;

import org.apache.http.*;
import org.apache.http.client.*;
import org.apache.http.client.entity.*;
import org.apache.http.client.methods.*;
import org.apache.http.impl.client.*;
import org.apache.http.message.*;
import org.apache.http.params.*;

import android.graphics.*;
import android.os.*;

public class FileDownload extends Thread{
	String uRl;
	Handler handler;
	public FileDownload(String url, Handler handler) {
		// TODO Auto-generated constructor stub
	this.uRl=url;
	this.handler = handler;
	}
	@Override
	public void run() {
		// TODO Auto-generated method stub
		super.run();
		        Bitmap imgBitmap = null;
		        HttpURLConnection conn = null;
		        BufferedInputStream bis = null;
		        
		        try
		        {
		            URL url = new URL(uRl);
		            conn = (HttpURLConnection)url.openConnection();
		            conn.connect();
		            
		            int nSize = conn.getContentLength();
		            bis = new BufferedInputStream(conn.getInputStream(), nSize);
		            imgBitmap = BitmapFactory.decodeStream(bis);
		        }
		        catch (Exception e){
		            e.printStackTrace();
		        } finally{
		            if(bis != null) {
		                try {bis.close();} catch (IOException e) {}
		            }
		            if(conn != null ) {
		                conn.disconnect();
		            }
		        }
		        
		        Image.setImageBitmap(imgBitmap);
		    }
	}
	
	
}
